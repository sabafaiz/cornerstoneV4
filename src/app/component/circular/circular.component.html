<!-- new code by saba -->
<div class="circular">
  <!-- <div class="col-sm-12 col-lg-12 col-md-12">
    <ul class="nav nav-option">
      <li>
        <h3 class="title">Circular</h3>
      </li>
    </ul>
  </div> -->
  <div class="row text-center">
    <loader [condition]="loader"></loader>
  </div>
  <div class="row" style="margin-top: 2%;padding-top: 1%;">
    <div class="card table-card">
      <div class="card-header">
        Circular details
        <a class="pull-right" [routerLink]="['/circular/add-circular']"><i class="material-icons" >note_add</i></a>
      </div>
      <div class="card-content">
        <table class="details table table-hover">
          <thead *ngIf="!EmptyCirculars">
            <tr>
              <th width="10%">Date</th>
              <th width="10%">Detail</th>
              <th width="10%">Title</th>
              <th width="10%">Type</th>
              <th width="60%">Description</th>
            </tr>
          </thead>
          <tbody *ngFor="let circular of circulars;let c=index;">
            <tr class="tr-row" data-toggle="modal" data-target="#myModal" (click)="seletToExpand(circular)">
              <td>{{circular.createdAt| date}}</td>
              <td>
                <img src="assets/img/studentpic.png">
                <br> {{circular.employeeName}}</td>
              <td>{{circular.title}}</td>
              <td>{{circular.circularTypeName}}</td>
              <td block>{{circular.description}}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="5">
                <span style="text-align: center" *ngIf="(EmptyCirculars)&&(!loader)&&(currentPage==1)"><b>No Circulars are added to the view.</b></span>
                <span style="text-align: center" *ngIf="(EmptyCirculars)&&(!loader)&&(currentPage!=1)"><b>No more Circulars are added to the view.</b></span>
              </td>
            </tr>
          </tfoot>
        </table>
        <div class="text-center">
          <button (click)="nextCircular()" class="btn btn-primary" *ngIf="!EmptyCirculars && !noMore">Load More</button>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- new code by saba -->
<!-- <div class="panel panel-default"> -->
  <!-- Default panel contents -->
  <!-- <div class="panel-heading">
  Circulars 
    <div style="display: inline-block;" class="add-button">
      <button type="button" class="btn btn-success btn-circle" [routerLink]="['/circular/add-circular']">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
      </button>
    </div>
  </div> -->

  <!-- Table -->
  <!-- <div class="panel-body">

    <div class="row text-center">
      <loader [condition]="loader"></loader>
    </div>
    <div style="margin-top: 2%;padding-top: 1%;">
      <div *ngIf="!EmptyCirculars">
        <div class="container card" *ngFor="let circular of circulars">
          <div class="row">
            <span class="glyphicon glyphicon-resize-full expand" (click)="seletToExpand(circular)" data-toggle="modal" data-target="#myModal-card"></span>
          </div>
          <div class="row">
            <div class="download-image" *ngIf="circular.files">
              <span *ngIf="circular.files.length > 0">
                <img class="modal-image" *ngIf="circular.files[0].fileOriginalName.substr(circular.files[0].fileOriginalName.length - 4) != '.pdf'" [attr.src]="fileUrl + circular.files[0].fileTimestamp">
                <img class="image" *ngIf="circular.files[0].fileOriginalName.substr(circular.files[0].fileOriginalName.length - 4) == '.pdf'" src="assets/pdf.png">
                </span>
              <div class="edit-image"><a [attr.href]="fileUrl + circular.files[0].fileTimestamp" [download]="custom"><i class="fa fa-download fa-lg"></i></a></div>
            </div>
            <span>
                <img class="modal-image" *ngIf="!circular.files" src="assets/preview.png" alt="No Preview Avalable">
              </span>.
          </div>
          <div class="row name">{{circular.employeeName}}</div>
          <div class="row class"><label class="heading">For</label>
            <div class="class">{{circular.standards}}</div>
            <span *ngIf="!circular.standards">School</span>
          </div>
          <hr class="style-line">
          <div class="row title">{{circular.title}}</div>
          <div class="row description">{{circular.description}}</div>
        </div>
      </div>
    </div>
    <div class="row" style="text-align: center" *ngIf="(EmptyCirculars)&&(!loader)&&(currentPage==1)"><b>No Circulars are added to the view.</b></div>
    <div class="row " style="text-align: center" *ngIf="(EmptyCirculars)&&(!loader)&&(currentPage!=1)"><b>No more Circulars are added to the view.</b></div>
  </div> -->


  <!-- <div class="panel-footer"> -->
    <!--<nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item" [ngClass]="{'disabled': currentPage === 1}"><a class="page-link" (click)="previousCircular()">Previous</a></li>
        <li class="page-item"><a class="page-link active">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item" [ngClass]="{'disabled': EmptyCirculars}"><a class="page-link" (click)="nextCircular()">Next</a></li>
      </ul>
    </nav>-->
    <!--<button (click)="previousCircular()" class="btn btn-primary nav-btn right" [disabled]="currentPage === 1">Previous</button>
    <button (click)="nextCircular()" class="btn right btn-danger nav-btn" [disabled]="EmptyCirculars || noMore">Next</button>-->
    <!-- <div class="text-center"><button (click)="nextCircular()" class="btn btn-primary" *ngIf="!EmptyCirculars && !noMore">Load More</button></div> -->
  <!-- </div> -->
<!-- </div> -->



<!-- The Modal -->
<div class="modal fade" id="myModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" *ngIf="selectedCircular">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" style="text-transform: capitalize;">{{selectedCircular.title}}</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div style="padding: 1% 10% 1% 10%;">
          <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" [attr.data-slide-to]="i" [ngClass]="i?'':'active'" *ngFor=" let x of selectedCircular.files ; let i=index "></li>
            </ol>
            <div class="carousel-inner" role="listbox">
              <div class="carousel-item" [ngClass]="k?'':'active'" *ngFor=" let x of selectedCircular.files ; let k=index ">
                <img class="d-block img-fluid" [attr.src]="fileUrl + x.fileTimestamp" *ngIf="x?.fileOriginalName.includes('.png')||x?.fileOriginalName.includes('.jpg')||x?.fileOriginalName.includes('.jpeg')||x?.fileOriginalName.includes('.bmp')"
                  width="800" height="400">
                <div class="d-block img-fluid text-center" *ngIf="x?.fileOriginalName.includes('.pdf')">
                  <img src="assets/pdf1.jpg">
                </div>
                <div class="d-block img-fluid text-center" *ngIf="x?.fileOriginalName.includes('.docx')||x?.fileOriginalName.includes('.doc')">
                  <img src="assets/docx.png">
                </div>
                <div class="carousel-caption">
                  <h3>
                    <a [attr.href]="fileUrl + x.fileTimestamp">
                      <i class="material-icons">cloud_download</i>
                    </a>
                  </h3>
                  <!-- <p>
                      <button class="btn btn-link" data-toggle="modal" data-dismiss="modal" data-target="#modal-edit-image" *ngIf="!disable" (click)="imgArray()">Add/Remove </button>
                    </p> -->
                </div>
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
        <div class="form-group row">
          <label for="example-text-input" class="col-2 col-form-label" style="text-align: right;">Circular For :</label>
          <div class="col-sm-8" *ngIf="selectedCircular.standards">
            <div class="form-control">{{selectedCircular.standards}}</div>
          </div>
          <div class="col-sm-8" *ngIf="!selectedCircular.standards">
            <div class="form-control">{{selectedCircular.circularTypeName}}</div>
          </div>
        </div>
        <div class="form-group row">
          <label for="example-text-input" class="col-2 col-form-label" style="text-align: right;">Created By :</label>
          <div class="col-sm-8">
            <div class="form-control">{{selectedCircular.employeeName}}</div>
          </div>
        </div>
        <div class="form-group row">
          <label for="example-text-input" class="col-2 col-form-label" style="text-align: right;">Description :</label>
          <div class="col-sm-8">
            <div class="form-control">{{selectedCircular.description}}</div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <div class="row" style="text-align: center;">
              <label for="example-text-input" class="col-4 col-form-label">Created At :</label>
              <div class="col-sm-8">
                <div class="form-control">{{selectedCircular.createdAt | date}}</div>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="row" style="text-align: center;">
              <label for="example-text-input" class="col-4 col-form-label">Start Date :</label>
              <div class="col-sm-8">
                <div class="form-control">{{selectedCircular.start | date}}</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary load-btn" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
</div>